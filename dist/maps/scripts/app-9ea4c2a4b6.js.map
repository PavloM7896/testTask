{"version":3,"sources":["scripts/app.js"],"names":["angular","module","webDevTec","getTec","data","title","url","description","logo","this","service","navbar","NavbarController","directive","restrict","templateUrl","scope","creationDate","controller","controllerAs","bindToController","VisualsController","$scope","$http","Peoples","$localStorage","getCountEntries","arr","result","reduce","acc","el","res","forEach","Object","keys","val1","key1","values","val2","key2","push","name","value","sortAgesByGroups","counter1825","counter2632","counter33100","item","sortedAges","peoples","getData","peopleSkills","peopleLevels","peopleAges","people","skill","level","age","skills","levels","ages","console","log","optionsBySkill","chart","type","height","x","d","y","showLabels","duration","labelThreshold","labelSunbeamLayout","legend","margin","top","right","bottom","left","optionsByLevel","optionsByAge","$inject","PeoplesController","$log","vm","setData","fromJson","index","splice","onEdit","editing","ind","edit","firstName","lastName","addPeople","length","get","then","factory","runBlock","run","routerConfig","$stateProvider","$urlRouterProvider","state","otherwise","config","constant","malarkey","moment","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-9ea4c2a4b6.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('testTask', ['ui.router', 'toastr', 'ngStorage','nvd3','jkAngularRatingStars']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n      .module('testTask')\n      .service('webDevTec', webDevTec);\n\n  /** @ngInject */\n  function webDevTec() {\n    var data = [\n      {\n        'title': 'AngularJS',\n        'url': 'https://angularjs.org/',\n        'description': 'HTML enhanced for web apps!',\n        'logo': 'angular.png'\n      },\n      {\n        'title': 'BrowserSync',\n        'url': 'http://browsersync.io/',\n        'description': 'Time-saving synchronised browser testing.',\n        'logo': 'browsersync.png'\n      },\n      {\n        'title': 'GulpJS',\n        'url': 'http://gulpjs.com/',\n        'description': 'The streaming build system.',\n        'logo': 'gulp.png'\n      },\n      {\n        'title': 'Jasmine',\n        'url': 'http://jasmine.github.io/',\n        'description': 'Behavior-Driven JavaScript.',\n        'logo': 'jasmine.png'\n      },\n      {\n        'title': 'Karma',\n        'url': 'http://karma-runner.github.io/',\n        'description': 'Spectacular Test Runner for JavaScript.',\n        'logo': 'karma.png'\n      },\n      {\n        'title': 'Protractor',\n        'url': 'https://github.com/angular/protractor',\n        'description': 'End to end test framework for AngularJS applications built on top of WebDriverJS.',\n        'logo': 'protractor.png'\n      },\n      {\n        'title': 'Bootstrap',\n        'url': 'http://getbootstrap.com/',\n        'description': 'Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.',\n        'logo': 'bootstrap.png'\n      },\n      {\n        'title': 'Sass (Node)',\n        'url': 'https://github.com/sass/node-sass',\n        'description': 'Node.js binding to libsass, the C version of the popular stylesheet preprocessor, Sass.',\n        'logo': 'node-sass.png'\n      }\n    ];\n\n    this.getTec = getTec;\n\n    function getTec() {\n      return data;\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('testTask')\n    .directive('navbar', navbar);\n\n  /** @ngInject */\n  function navbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController() {\n      var vm = this;\n\n    }\n  }\n\n})();\n\n(function() {\r\n    'use strict';\r\n  \r\n    angular\r\n      .module('testTask')\r\n      .controller('VisualsController', VisualsController);\r\n  \r\n    /** @ngInject */\r\n    function VisualsController($scope, $http, Peoples, $localStorage) {\r\n      var vm = this;\r\n      \r\n\r\n        $scope.peoples = Peoples.getData();\r\n      \r\n        $scope.peopleSkills = [];\r\n        $scope.peopleLevels = [];\r\n        $scope.peopleAges = [];\r\n\r\n        angular.forEach($scope.peoples, function(people) {\r\n          $scope.peopleSkills.push(people.skill);\r\n        });\r\n        angular.forEach($scope.peoples, function(people) {\r\n          $scope.peopleLevels.push(people.level);\r\n        });\r\n        angular.forEach($scope.peoples, function(people) {\r\n          $scope.peopleAges.push(people.age);\r\n        });\r\n\r\n        $scope.skills = getCountEntries($scope.peopleSkills);\r\n        $scope.levels = getCountEntries($scope.peopleLevels);\r\n        $scope.ages = getCountEntries($scope.peopleAges);\r\n        console.log($scope.ages);\r\n      \r\n      \r\n      function getCountEntries(arr){\r\n        var result = arr.reduce(function(acc, el) {\r\n          acc[el] = (acc[el] || 0) + 1;\r\n          return acc;\r\n        }, {});\r\n        var res = [];\r\n        angular.forEach(Object.keys(result), function(val1, key1){\r\n          angular.forEach(Object.values(result), function(val2, key2){\r\n            if(key1 == key2) {\r\n              res.push({\r\n                name: val1,\r\n                value: val2\r\n              })\r\n            }\r\n          })\r\n        });\r\n        return res;\r\n      }\r\n\r\n      function sortAgesByGroups(arr) {\r\n\r\n        var counter1825= 0,\r\n            counter2632= 0,\r\n            counter33100 = 0;\r\n\r\n        angular.forEach(arr, function(item) {\r\n          if(item.name >= 18 && item.name <= 25){ \r\n            counter1825++;\r\n          }\r\n          else if(item.name > 25 && item.name <= 32){\r\n            counter2632++;\r\n          }\r\n          else if(item.name > 32 && item.name <= 100){\r\n            counter33100++;           \r\n          }\r\n        });\r\n\r\n        var sortedAges = [\r\n        {\r\n          name:'18-25',\r\n          value: counter1825\r\n        },\r\n        {\r\n          name:'26-32',\r\n          value: counter2632\r\n        },\r\n        {\r\n          name:'33-100',\r\n          value: counter33100\r\n        }];\r\n\r\n        return sortedAges;\r\n      }\r\n     \r\n      $scope.sortedAges = sortAgesByGroups($scope.ages);\r\n\r\n      $scope.optionsBySkill = {\r\n        chart: {\r\n          type: 'pieChart',\r\n          height: 400,\r\n          x: function(d){return d.name},\r\n          y: function(d){return d.value},\r\n          showLabels: true,\r\n          duration: 10,\r\n          labelThreshold: 0.01,\r\n          labelSunbeamLayout: true,\r\n          legend: {\r\n            margin: {\r\n                top: 5,\r\n                right: 0,\r\n                bottom: 5,\r\n                left: 0\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      $scope.optionsByLevel = {\r\n        chart: {\r\n          type: 'pieChart',\r\n          height: 400,\r\n          x: function(d){return d.name;},\r\n          y: function(d){return d.value;},\r\n          showLabels: true,\r\n          duration: 10,\r\n          labelThreshold: 0.01,\r\n          labelSunbeamLayout: true,\r\n          legend: {\r\n            margin: {\r\n                top: 5,\r\n                right: 0,\r\n                bottom: 5,\r\n                left: 0\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      $scope.optionsByAge = {\r\n        chart: {\r\n          type: 'pieChart',\r\n          height: 400,\r\n          x: function(d){return d.name;},\r\n          y: function(d){return d.value;},\r\n          showLabels: true,\r\n          duration: 10,\r\n          labelThreshold: 0.01,\r\n          labelSunbeamLayout: true,\r\n          legend: {\r\n            margin: {\r\n                top: 5,\r\n                right: 0,\r\n                bottom: 5,\r\n                left: 0\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  })();\r\n  \n(function() {\n  'use strict';\n\n  angular\n    .module('testTask')\n    .controller('PeoplesController', PeoplesController);\n\n  /** @ngInject */\n  function PeoplesController($localStorage, $log, $scope, $http, Peoples) {\n    var vm = this;\n    if($localStorage.peoples){\n      Peoples.getData();\n    }\n    else {\n      Peoples.setData();\n    }\n    \n    vm.peoples = angular.fromJson($localStorage.peoples);\n    \n    $scope.delete = function(index) {\n      vm.peoples.splice(index, 1);\n      $localStorage.peoples = vm.peoples;\n    }\n\n    $scope.onEdit = function(index) {\n      $scope.editing = true;\n      $scope.ind = index;\n    }\n\n    $scope.edit = function(index, people) {\n      if(people.firstName && people.lastName && people.age && people.skill) {\n        vm.peoples[index] = {\n          \"firstName\": people.firstName,\n          \"lastName\": people.lastName,\n          \"age\": people.age,\n          \"skill\": people.skill,\n          \"level\": people.level\n        };\n      }\n      $localStorage.peoples = vm.peoples;\n      $scope.editing = false;\n    }\n    \n    $scope.addPeople = function() {\n      vm.peoples[vm.peoples.length] = {};\n      $scope.ind = vm.peoples.length - 1;\n      $scope.editing = true;\n    }\n  }\n})();\n\n(function() {\r\n    'use strict';\r\n  \r\n    angular\r\n      .module('testTask')\r\n      .factory('Peoples', Peoples);\r\n  \r\n    /** @ngInject */\r\n    function Peoples($localStorage, $http) {\r\n      function setData() {\r\n        $http.get('peoples.json').then(function(res) {\r\n          $localStorage.peoples = res.data;\r\n        })\r\n        \r\n      }\r\n\r\n      function getData() {\r\n        return angular.fromJson($localStorage.peoples);\r\n      }\r\n      return {\r\n        setData: setData,\r\n        getData: getData\r\n      }\r\n    }\r\n  \r\n  })();\n(function() {\n  'use strict';\n\n  angular\n    .module('testTask')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock() {\n  \n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('testTask')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('peoples', {\n        url: '/peoples',\n        templateUrl: 'app/main/peoples.html',\n        controller: 'PeoplesController',\n        controllerAs: 'people'\n      })\n      .state('visuals', {\n        url: '/visuals',\n        templateUrl: 'app/main/visuals.html',\n        controller: 'VisualsController',\n        controllerAs: 'visuals'\n      });\n\n    $urlRouterProvider.otherwise('/peoples');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('testTask')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('testTask')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"testTask\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/peoples.html\",\"<div class=row><div class=col-md-2><input type=text id=searchBox ng-model=search placeholder=search></div><div class=pull-right><button ng-click=addPeople()>New</button></div><table class=\\\"table col-md-12\\\"><tr><th>Name</th><th>Age</th><th>Skill</th><th>Level</th><th>Actions</th></tr><tr ng-repeat=\\\"people in people.peoples | filter:search\\\"><td><p ng-show=\\\"!editing || $index !== ind\\\">{{ people.firstName + \\\" \\\" + people.lastName }}</p><div ng-show=\\\"editing && $index == ind\\\"><input type=text ng-model=people.firstName> <input type=text ng-model=people.lastName></div></td><td><p ng-show=\\\"!editing || $index !== ind\\\">{{ people.age }}</p><input type=text ng-model=people.age ng-show=\\\"editing == true && $index == ind\\\"></td><td><p ng-show=\\\"!editing || $index !== ind\\\">{{ people.skill }}</p><input type=text ng-model=people.skill ng-show=\\\"editing && $index == ind\\\"></td><td><jk-rating-stars max-rating=3 rating=people.level read-only=\\\"!editing || $index !== ind\\\"></jk-rating-stars></td><td><button ng-show=\\\"!editing || $index !== ind\\\" ng-click=onEdit($index)>Edit</button> <button ng-show=\\\"editing && $index == ind\\\" ng-click=\\\"edit($index, people)\\\">Confirm</button> <button ng-show=\\\"!editing \\\" ng-click=delete($index)>Delete</button></td></tr></table></div>\");\n$templateCache.put(\"app/main/visuals.html\",\"<div class=container><div class=row><div class=\\\"col-sm-6 col-md-4\\\"><h3>by Skill</h3><nvd3 options=optionsBySkill data=skills></nvd3></div><div class=\\\"col-sm-6 col-md-4\\\"><h3>by Level</h3><nvd3 options=optionsByLevel data=levels></nvd3></div><div class=\\\"col-sm-6 col-md-4\\\"><h3>by Age</h3><nvd3 options=optionsByAge data=sortedAges></nvd3></div></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-static-top navbar-inverse row\\\"><ul class=\\\"nav navbar-nav\\\"><li class=active><a ui-sref=peoples>People</a></li><li><a ui-sref=visuals>Visuals</a></li></ul></nav>\");}]);"],"sourceRoot":"/source/"}